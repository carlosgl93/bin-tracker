var xe=t=>{throw TypeError(t)};var Ut=(t,e,s)=>e.has(t)||xe("Cannot "+s);var r=(t,e,s)=>(Ut(t,e,"read from private field"),s?s.call(t):e.get(t)),M=(t,e,s)=>e.has(t)?xe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),C=(t,e,s,o)=>(Ut(t,e,"write to private field"),o?o.call(t,s):e.set(t,s),s),E=(t,e,s)=>(Ut(t,e,"access private method"),s);import{b as h,g as kt,h as zt,k as jt,j as p,m as tt,n as U,o as Ct,p as Ot,a9 as oe,a8 as ls,q as ut,w as cs,i as re,c as ds,a7 as ke,F as us,z as Ht,l as dt,A as hs,H as $t,ac as ps}from"./deepmerge-DcrfCxJ9.js";import{d as ze,o as je,u as fs,a as bs,B as mt}from"./App-BcHHTREt.js";import{S as vs,j as we,k as N,l as Kt,r as wt,b as _t,q as Xt,t as Ce,u as gs,f as Ss,v as Re,n as Oe,w as ys,x as ms}from"./Grow-CvfDZcuL.js";import{f as xs}from"./query-Ckjqzu1e.js";import{u as Ft,T as ws,g as Cs}from"./productionRecords-CrWnkucU.js";import Rs from"./AnnualView--3BKmzFK.js";import{t as Is,c as Ts,D as Bs}from"./DailyView-Ceg_ts5a.js";import Es from"./MonthlyView-VIa1qctO.js";import"./index-CoP4CoC8.js";import"./Grid-3NuuvUVm.js";var z,f,Rt,k,nt,ht,G,J,It,pt,ft,it,at,Z,bt,m,xt,Yt,qt,Gt,Jt,Zt,te,ee,Le,Fe,Ms=(Fe=class extends vs{constructor(e,s){super();M(this,m);M(this,z);M(this,f);M(this,Rt);M(this,k);M(this,nt);M(this,ht);M(this,G);M(this,J);M(this,It);M(this,pt);M(this,ft);M(this,it);M(this,at);M(this,Z);M(this,bt,new Set);this.options=s,C(this,z,e),C(this,J,null),C(this,G,we()),this.options.experimental_prefetchInRender||r(this,G).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,f).addObserver(this),Ie(r(this,f),this.options)?E(this,m,xt).call(this):this.updateResult(),E(this,m,Jt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return se(r(this,f),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return se(r(this,f),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,E(this,m,Zt).call(this),E(this,m,te).call(this),r(this,f).removeObserver(this)}setOptions(e){const s=this.options,o=r(this,f);if(this.options=r(this,z).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof N(this.options.enabled,r(this,f))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");E(this,m,ee).call(this),r(this,f).setOptions(this.options),s._defaulted&&!Kt(this.options,s)&&r(this,z).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,f),observer:this});const i=this.hasListeners();i&&Te(r(this,f),o,this.options,s)&&E(this,m,xt).call(this),this.updateResult(),i&&(r(this,f)!==o||N(this.options.enabled,r(this,f))!==N(s.enabled,r(this,f))||wt(this.options.staleTime,r(this,f))!==wt(s.staleTime,r(this,f)))&&E(this,m,Yt).call(this);const a=E(this,m,qt).call(this);i&&(r(this,f)!==o||N(this.options.enabled,r(this,f))!==N(s.enabled,r(this,f))||a!==r(this,Z))&&E(this,m,Gt).call(this,a)}getOptimisticResult(e){const s=r(this,z).getQueryCache().build(r(this,z),e),o=this.createResult(s,e);return Ps(this,o)&&(C(this,k,o),C(this,ht,this.options),C(this,nt,r(this,f).state)),o}getCurrentResult(){return r(this,k)}trackResult(e,s){return new Proxy(e,{get:(o,i)=>(this.trackProp(i),s==null||s(i),Reflect.get(o,i))})}trackProp(e){r(this,bt).add(e)}getCurrentQuery(){return r(this,f)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,z).defaultQueryOptions(e),o=r(this,z).getQueryCache().build(r(this,z),s);return o.fetch().then(()=>this.createResult(o,s))}fetch(e){return E(this,m,xt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,k)))}createResult(e,s){var Q;const o=r(this,f),i=this.options,a=r(this,k),c=r(this,nt),b=r(this,ht),x=e!==o?e.state:r(this,Rt),{state:R}=e;let d={...R},S=!1,v;if(s._optimisticResults){const I=this.hasListeners(),X=!I&&Ie(e,s),Y=I&&Te(e,o,s,i);(X||Y)&&(d={...d,...xs(R.data,e.options)}),s._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:D,errorUpdatedAt:B,status:w}=d;v=d.data;let H=!1;if(s.placeholderData!==void 0&&v===void 0&&w==="pending"){let I;a!=null&&a.isPlaceholderData&&s.placeholderData===(b==null?void 0:b.placeholderData)?(I=a.data,H=!0):I=typeof s.placeholderData=="function"?s.placeholderData((Q=r(this,ft))==null?void 0:Q.state.data,r(this,ft)):s.placeholderData,I!==void 0&&(w="success",v=Re(a==null?void 0:a.data,I,s),S=!0)}if(s.select&&v!==void 0&&!H)if(a&&v===(c==null?void 0:c.data)&&s.select===r(this,It))v=r(this,pt);else try{C(this,It,s.select),v=s.select(v),v=Re(a==null?void 0:a.data,v,s),C(this,pt,v),C(this,J,null)}catch(I){C(this,J,I)}r(this,J)&&(D=r(this,J),v=r(this,pt),B=Date.now(),w="error");const j=d.fetchStatus==="fetching",et=w==="pending",O=w==="error",$=et&&j,_=v!==void 0,P={status:w,fetchStatus:d.fetchStatus,isPending:et,isSuccess:w==="success",isError:O,isInitialLoading:$,isLoading:$,data:v,dataUpdatedAt:d.dataUpdatedAt,error:D,errorUpdatedAt:B,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>x.dataUpdateCount||d.errorUpdateCount>x.errorUpdateCount,isFetching:j,isRefetching:j&&!et,isLoadingError:O&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:O&&_,isStale:ne(e,s),refetch:this.refetch,promise:r(this,G)};if(this.options.experimental_prefetchInRender){const I=F=>{P.status==="error"?F.reject(P.error):P.data!==void 0&&F.resolve(P.data)},X=()=>{const F=C(this,G,P.promise=we());I(F)},Y=r(this,G);switch(Y.status){case"pending":e.queryHash===o.queryHash&&I(Y);break;case"fulfilled":(P.status==="error"||P.data!==Y.value)&&X();break;case"rejected":(P.status!=="error"||P.error!==Y.reason)&&X();break}}return P}updateResult(){const e=r(this,k),s=this.createResult(r(this,f),this.options);if(C(this,nt,r(this,f).state),C(this,ht,this.options),r(this,nt).data!==void 0&&C(this,ft,r(this,f)),Kt(s,e))return;C(this,k,s);const o=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!r(this,bt).size)return!0;const c=new Set(a??r(this,bt));return this.options.throwOnError&&c.add("error"),Object.keys(r(this,k)).some(b=>{const u=b;return r(this,k)[u]!==e[u]&&c.has(u)})};E(this,m,Le).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&E(this,m,Jt).call(this)}},z=new WeakMap,f=new WeakMap,Rt=new WeakMap,k=new WeakMap,nt=new WeakMap,ht=new WeakMap,G=new WeakMap,J=new WeakMap,It=new WeakMap,pt=new WeakMap,ft=new WeakMap,it=new WeakMap,at=new WeakMap,Z=new WeakMap,bt=new WeakMap,m=new WeakSet,xt=function(e){E(this,m,ee).call(this);let s=r(this,f).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(_t)),s},Yt=function(){E(this,m,Zt).call(this);const e=wt(this.options.staleTime,r(this,f));if(Xt||r(this,k).isStale||!Ce(e))return;const o=gs(r(this,k).dataUpdatedAt,e)+1;C(this,it,setTimeout(()=>{r(this,k).isStale||this.updateResult()},o))},qt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,f)):this.options.refetchInterval)??!1},Gt=function(e){E(this,m,te).call(this),C(this,Z,e),!(Xt||N(this.options.enabled,r(this,f))===!1||!Ce(r(this,Z))||r(this,Z)===0)&&C(this,at,setInterval(()=>{(this.options.refetchIntervalInBackground||Ss.isFocused())&&E(this,m,xt).call(this)},r(this,Z)))},Jt=function(){E(this,m,Yt).call(this),E(this,m,Gt).call(this,E(this,m,qt).call(this))},Zt=function(){r(this,it)&&(clearTimeout(r(this,it)),C(this,it,void 0))},te=function(){r(this,at)&&(clearInterval(r(this,at)),C(this,at,void 0))},ee=function(){const e=r(this,z).getQueryCache().build(r(this,z),this.options);if(e===r(this,f))return;const s=r(this,f);C(this,f,e),C(this,Rt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Le=function(e){Oe.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,k))}),r(this,z).getQueryCache().notify({query:r(this,f),type:"observerResultsUpdated"})})},Fe);function Ds(t,e){return N(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ie(t,e){return Ds(t,e)||t.state.data!==void 0&&se(t,e,e.refetchOnMount)}function se(t,e,s){if(N(e.enabled,t)!==!1&&wt(e.staleTime,t)!=="static"){const o=typeof s=="function"?s(t):s;return o==="always"||o!==!1&&ne(t,e)}return!1}function Te(t,e,s,o){return(t!==e||N(o.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ne(t,s)}function ne(t,e){return N(e.enabled,t)!==!1&&t.isStaleByTime(wt(e.staleTime,t))}function Ps(t,e){return!Kt(t.getCurrentResult(),e)}var Ae=h.createContext(!1),Fs=()=>h.useContext(Ae);Ae.Provider;function ks(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zs=h.createContext(ks()),js=()=>h.useContext(zs),Os=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ls=t=>{h.useEffect(()=>{t.clearReset()},[t])},As=({result:t,errorResetBoundary:e,throwOnError:s,query:o,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&o&&(i&&t.data===void 0||ys(s,[t.error,o])),Ws=t=>{if(t.suspense){const e=o=>o==="static"?o:Math.max(o??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...o)=>e(s(...o)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Ns=(t,e)=>t.isLoading&&t.isFetching&&!e,Us=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Be=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Hs(t,e,s){var d,S,v,D,B;const o=Fs(),i=js(),a=ms(),c=a.defaultQueryOptions(t);(S=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||S.call(d,c),c._optimisticResults=o?"isRestoring":"optimistic",Ws(c),Os(c,i),Ls(i);const b=!a.getQueryCache().get(c.queryHash),[u]=h.useState(()=>new e(a,c)),x=u.getOptimisticResult(c),R=!o&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const H=R?u.subscribe(Oe.batchCalls(w)):_t;return u.updateResult(),H},[u,R]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),h.useEffect(()=>{u.setOptions(c)},[c,u]),Us(c,x))throw Be(c,u,i);if(As({result:x,errorResetBoundary:i,throwOnError:c.throwOnError,query:a.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw x.error;if((D=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||D.call(v,c,x),c.experimental_prefetchInRender&&!Xt&&Ns(x,o)){const w=b?Be(c,u,i):(B=a.getQueryCache().get(c.queryHash))==null?void 0:B.promise;w==null||w.catch(_t).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?x:u.trackResult(x)}function $s(t,e){return Hs(t,Ms)}function Qs(t){return zt("MuiFab",t)}const Ee=kt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Vs=t=>{const{color:e,variant:s,classes:o,size:i}=t,a={root:["root",s,`size${Ct(i)}`,e==="inherit"?"colorInherit":e]},c=Ot(a,Qs,o);return{...o,...c}},Ks=tt(oe,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ls(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],e[`size${Ct(s.size)}`],s.color==="inherit"&&e.colorInherit,e[Ct(s.size)],e[s.color]]}})(ut(({theme:t})=>{var e,s;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(s=(e=t.palette).getContrastText)==null?void 0:s.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${Ee.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),ut(({theme:t})=>({variants:[...Object.entries(t.palette).filter(cs(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),ut(({theme:t})=>({[`&.${Ee.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),_s=h.forwardRef(function(e,s){const o=jt({props:e,name:"MuiFab"}),{children:i,className:a,color:c="default",component:b="button",disabled:u=!1,disableFocusRipple:x=!1,focusVisibleClassName:R,size:d="large",variant:S="circular",...v}=o,D={...o,color:c,component:b,disabled:u,disableFocusRipple:x,size:d,variant:S},B=Vs(D);return p.jsx(Ks,{className:U(B.root,a),component:b,disabled:u,focusRipple:!x,focusVisibleClassName:U(B.focusVisible,R),ownerState:D,ref:s,...v,classes:B,children:i})});function Xs(t){return zt("MuiTab",t)}const L=kt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Ys=t=>{const{classes:e,textColor:s,fullWidth:o,wrapped:i,icon:a,label:c,selected:b,disabled:u}=t,x={root:["root",a&&c&&"labelIcon",`textColor${Ct(s)}`,o&&"fullWidth",i&&"wrapped",b&&"selected",u&&"disabled"],icon:["iconWrapper","icon"]};return Ot(x,Xs,e)},qs=tt(oe,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.label&&s.icon&&e.labelIcon,e[`textColor${Ct(s.textColor)}`],s.fullWidth&&e.fullWidth,s.wrapped&&e.wrapped,{[`& .${L.iconWrapper}`]:e.iconWrapper},{[`& .${L.icon}`]:e.icon}]}})(ut(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:s})=>e.icon&&e.label&&s==="top",style:{[`& > .${L.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:s})=>e.icon&&e.label&&s==="bottom",style:{[`& > .${L.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:s})=>e.icon&&e.label&&s==="start",style:{[`& > .${L.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:s})=>e.icon&&e.label&&s==="end",style:{[`& > .${L.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${L.selected}`]:{opacity:1},[`&.${L.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${L.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${L.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${L.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${L.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Qt=h.forwardRef(function(e,s){const o=jt({props:e,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:c=!1,fullWidth:b,icon:u,iconPosition:x="top",indicator:R,label:d,onChange:S,onClick:v,onFocus:D,selected:B,selectionFollowsFocus:w,textColor:H="inherit",value:j,wrapped:et=!1,...O}=o,$={...o,disabled:a,disableFocusRipple:c,selected:B,icon:!!u,iconPosition:x,label:!!d,fullWidth:b,textColor:H,wrapped:et},_=Ys($),lt=u&&d&&h.isValidElement(u)?h.cloneElement(u,{className:U(_.icon,u.props.className)}):u,P=I=>{!B&&S&&S(I,j),v&&v(I)},Q=I=>{w&&!B&&S&&S(I,j),D&&D(I)};return p.jsxs(qs,{focusRipple:!c,className:U(_.root,i),ref:s,role:"tab","aria-selected":B,disabled:a,onClick:P,onFocus:Q,ownerState:$,tabIndex:B?0:-1,...O,children:[x==="top"||x==="start"?p.jsxs(h.Fragment,{children:[lt,d]}):p.jsxs(h.Fragment,{children:[d,lt]}),R]})}),Gs=re(p.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Js=re(p.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Zs(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function to(t,e,s,o={},i=()=>{}){const{ease:a=Zs,duration:c=300}=o;let b=null;const u=e[t];let x=!1;const R=()=>{x=!0},d=S=>{if(x){i(new Error("Animation cancelled"));return}b===null&&(b=S);const v=Math.min(1,(S-b)/c);if(e[t]=a(v)*(s-u)+u,v>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return u===s?(i(new Error("Element already at target position")),R):(requestAnimationFrame(d),R)}const eo={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function so(t){const{onChange:e,...s}=t,o=h.useRef(),i=h.useRef(null),a=()=>{o.current=i.current.offsetHeight-i.current.clientHeight};return ds(()=>{const c=ze(()=>{const u=o.current;a(),u!==o.current&&e(o.current)}),b=je(i.current);return b.addEventListener("resize",c),()=>{c.clear(),b.removeEventListener("resize",c)}},[e]),h.useEffect(()=>{a(),e(o.current)},[e]),p.jsx("div",{style:eo,...s,ref:i})}function oo(t){return zt("MuiTabScrollButton",t)}const ro=kt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),no=t=>{const{classes:e,orientation:s,disabled:o}=t;return Ot({root:["root",s,o&&"disabled"]},oo,e)},io=tt(oe,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.orientation&&e[s.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${ro.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),ao=h.forwardRef(function(e,s){const o=jt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:c={},direction:b,orientation:u,disabled:x,...R}=o,d=ke(),S={isRtl:d,...o},v=no(S),D=a.StartScrollButtonIcon??Gs,B=a.EndScrollButtonIcon??Js,w=Ft({elementType:D,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S}),H=Ft({elementType:B,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S});return p.jsx(io,{component:"div",className:U(v.root,i),ref:s,role:null,ownerState:S,tabIndex:null,...R,style:{...R.style,...u==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${d?-90:90}deg)`}},children:b==="left"?p.jsx(D,{...w}):p.jsx(B,{...H})})});function lo(t){return zt("MuiTabs",t)}const Vt=kt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Me=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,De=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Pt=(t,e,s)=>{let o=!1,i=s(t,e);for(;i;){if(i===t.firstChild){if(o)return;o=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=s(t,i);else{i.focus();return}}},co=t=>{const{vertical:e,fixed:s,hideScrollbar:o,scrollableX:i,scrollableY:a,centered:c,scrollButtonsHideMobile:b,classes:u}=t;return Ot({root:["root",e&&"vertical"],scroller:["scroller",s&&"fixed",o&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",c&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",b&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[o&&"hideScrollbar"]},lo,u)},uo=tt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${Vt.scrollButtons}`]:e.scrollButtons},{[`& .${Vt.scrollButtons}`]:s.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,s.vertical&&e.vertical]}})(ut(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Vt.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),ho=tt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.scroller,s.fixed&&e.fixed,s.hideScrollbar&&e.hideScrollbar,s.scrollableX&&e.scrollableX,s.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),po=tt("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.list,e.flexContainer,s.vertical&&e.flexContainerVertical,s.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),fo=tt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(ut(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),bo=tt(so)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Pe={},vo=h.forwardRef(function(e,s){const o=jt({props:e,name:"MuiTabs"}),i=us(),a=ke(),{"aria-label":c,"aria-labelledby":b,action:u,centered:x=!1,children:R,className:d,component:S="div",allowScrollButtonsMobile:v=!1,indicatorColor:D="primary",onChange:B,orientation:w="horizontal",ScrollButtonComponent:H,scrollButtons:j="auto",selectionFollowsFocus:et,slots:O={},slotProps:$={},TabIndicatorProps:_={},TabScrollButtonProps:lt={},textColor:P="primary",value:Q,variant:I="standard",visibleScrollbar:X=!1,...Y}=o,F=I==="scrollable",A=w==="vertical",vt=A?"scrollTop":"scrollLeft",Tt=A?"top":"left",Bt=A?"bottom":"right",Lt=A?"clientHeight":"clientWidth",gt=A?"height":"width",V={...o,component:S,allowScrollButtonsMobile:v,indicatorColor:D,orientation:w,vertical:A,scrollButtons:j,textColor:P,variant:I,visibleScrollbar:X,fixed:!F,hideScrollbar:F&&!X,scrollableX:F&&!A,scrollableY:F&&A,centered:x&&!F,scrollButtonsHideMobile:!v},q=co(V),We=Ft({elementType:O.StartScrollButtonIcon,externalSlotProps:$.startScrollButtonIcon,ownerState:V}),Ne=Ft({elementType:O.EndScrollButtonIcon,externalSlotProps:$.endScrollButtonIcon,ownerState:V}),[ie,Ue]=h.useState(!1),[st,ae]=h.useState(Pe),[le,He]=h.useState(!1),[ce,$e]=h.useState(!1),[de,Qe]=h.useState(!1),[ue,Ve]=h.useState({overflow:"hidden",scrollbarWidth:0}),he=new Map,K=h.useRef(null),ot=h.useRef(null),ct={slots:O,slotProps:{indicator:_,scrollButton:lt,...$}},pe=()=>{const n=K.current;let l;if(n){const y=n.getBoundingClientRect();l={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:n.scrollWidth,top:y.top,bottom:y.bottom,left:y.left,right:y.right}}let g;if(n&&Q!==!1){const y=ot.current.children;if(y.length>0){const T=y[he.get(Q)];g=T?T.getBoundingClientRect():null}}return{tabsMeta:l,tabMeta:g}},St=Ht(()=>{const{tabsMeta:n,tabMeta:l}=pe();let g=0,y;A?(y="top",l&&n&&(g=l.top-n.top+n.scrollTop)):(y=a?"right":"left",l&&n&&(g=(a?-1:1)*(l[y]-n[y]+n.scrollLeft)));const T={[y]:g,[gt]:l?l[gt]:0};if(typeof st[y]!="number"||typeof st[gt]!="number")ae(T);else{const W=Math.abs(st[y]-T[y]),rt=Math.abs(st[gt]-T[gt]);(W>=1||rt>=1)&&ae(T)}}),At=(n,{animation:l=!0}={})=>{l?to(vt,K.current,n,{duration:i.transitions.duration.standard}):K.current[vt]=n},fe=n=>{let l=K.current[vt];A?l+=n:l+=n*(a?-1:1),At(l)},be=()=>{const n=K.current[Lt];let l=0;const g=Array.from(ot.current.children);for(let y=0;y<g.length;y+=1){const T=g[y];if(l+T[Lt]>n){y===0&&(l=n);break}l+=T[Lt]}return l},Ke=()=>{fe(-1*be())},_e=()=>{fe(be())},[Xe,{onChange:Et,...Ye}]=dt("scrollbar",{className:U(q.scrollableX,q.hideScrollbar),elementType:bo,shouldForwardComponentProp:!0,externalForwardedProps:ct,ownerState:V}),qe=h.useCallback(n=>{Et==null||Et(n),Ve({overflow:null,scrollbarWidth:n})},[Et]),[ve,ge]=dt("scrollButtons",{className:U(q.scrollButtons,lt.className),elementType:ao,externalForwardedProps:ct,ownerState:V,additionalProps:{orientation:w,slots:{StartScrollButtonIcon:O.startScrollButtonIcon||O.StartScrollButtonIcon,EndScrollButtonIcon:O.endScrollButtonIcon||O.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:We,endScrollButtonIcon:Ne}}}),Ge=()=>{const n={};n.scrollbarSizeListener=F?p.jsx(Xe,{...Ye,onChange:qe}):null;const g=F&&(j==="auto"&&(le||ce)||j===!0);return n.scrollButtonStart=g?p.jsx(ve,{direction:a?"right":"left",onClick:Ke,disabled:!le,...ge}):null,n.scrollButtonEnd=g?p.jsx(ve,{direction:a?"left":"right",onClick:_e,disabled:!ce,...ge}):null,n},Se=Ht(n=>{const{tabsMeta:l,tabMeta:g}=pe();if(!(!g||!l)){if(g[Tt]<l[Tt]){const y=l[vt]+(g[Tt]-l[Tt]);At(y,{animation:n})}else if(g[Bt]>l[Bt]){const y=l[vt]+(g[Bt]-l[Bt]);At(y,{animation:n})}}}),Mt=Ht(()=>{F&&j!==!1&&Qe(!de)});h.useEffect(()=>{const n=ze(()=>{K.current&&St()});let l;const g=W=>{W.forEach(rt=>{rt.removedNodes.forEach(yt=>{l==null||l.unobserve(yt)}),rt.addedNodes.forEach(yt=>{l==null||l.observe(yt)})}),n(),Mt()},y=je(K.current);y.addEventListener("resize",n);let T;return typeof ResizeObserver<"u"&&(l=new ResizeObserver(n),Array.from(ot.current.children).forEach(W=>{l.observe(W)})),typeof MutationObserver<"u"&&(T=new MutationObserver(g),T.observe(ot.current,{childList:!0})),()=>{n.clear(),y.removeEventListener("resize",n),T==null||T.disconnect(),l==null||l.disconnect()}},[St,Mt]),h.useEffect(()=>{const n=Array.from(ot.current.children),l=n.length;if(typeof IntersectionObserver<"u"&&l>0&&F&&j!==!1){const g=n[0],y=n[l-1],T={root:K.current,threshold:.99},W=Nt=>{He(!Nt[0].isIntersecting)},rt=new IntersectionObserver(W,T);rt.observe(g);const yt=Nt=>{$e(!Nt[0].isIntersecting)},me=new IntersectionObserver(yt,T);return me.observe(y),()=>{rt.disconnect(),me.disconnect()}}},[F,j,de,R==null?void 0:R.length]),h.useEffect(()=>{Ue(!0)},[]),h.useEffect(()=>{St()}),h.useEffect(()=>{Se(Pe!==st)},[Se,st]),h.useImperativeHandle(u,()=>({updateIndicator:St,updateScrollButtons:Mt}),[St,Mt]);const[Je,Ze]=dt("indicator",{className:U(q.indicator,_.className),elementType:fo,externalForwardedProps:ct,ownerState:V,additionalProps:{style:st}}),ye=p.jsx(Je,{...Ze});let Dt=0;const ts=h.Children.map(R,n=>{if(!h.isValidElement(n))return null;const l=n.props.value===void 0?Dt:n.props.value;he.set(l,Dt);const g=l===Q;return Dt+=1,h.cloneElement(n,{fullWidth:I==="fullWidth",indicator:g&&!ie&&ye,selected:g,selectionFollowsFocus:et,onChange:B,textColor:P,value:l,...Dt===1&&Q===!1&&!n.props.tabIndex?{tabIndex:0}:{}})}),es=n=>{if(n.altKey||n.shiftKey||n.ctrlKey||n.metaKey)return;const l=ot.current,g=hs(l).activeElement;if(g.getAttribute("role")!=="tab")return;let T=w==="horizontal"?"ArrowLeft":"ArrowUp",W=w==="horizontal"?"ArrowRight":"ArrowDown";switch(w==="horizontal"&&a&&(T="ArrowRight",W="ArrowLeft"),n.key){case T:n.preventDefault(),Pt(l,g,De);break;case W:n.preventDefault(),Pt(l,g,Me);break;case"Home":n.preventDefault(),Pt(l,null,Me);break;case"End":n.preventDefault(),Pt(l,null,De);break}},Wt=Ge(),[ss,os]=dt("root",{ref:s,className:U(q.root,d),elementType:uo,externalForwardedProps:{...ct,...Y,component:S},ownerState:V}),[rs,ns]=dt("scroller",{ref:K,className:q.scroller,elementType:ho,externalForwardedProps:ct,ownerState:V,additionalProps:{style:{overflow:ue.overflow,[A?`margin${a?"Left":"Right"}`:"marginBottom"]:X?void 0:-ue.scrollbarWidth}}}),[is,as]=dt("list",{ref:ot,className:U(q.list,q.flexContainer),elementType:po,externalForwardedProps:ct,ownerState:V,getSlotProps:n=>({...n,onKeyDown:l=>{var g;es(l),(g=n.onKeyDown)==null||g.call(n,l)}})});return p.jsxs(ss,{...os,children:[Wt.scrollButtonStart,Wt.scrollbarSizeListener,p.jsxs(rs,{...ns,children:[p.jsx(is,{"aria-label":c,"aria-labelledby":b,"aria-orientation":w==="vertical"?"vertical":null,role:"tablist",...as,children:ts}),ie&&ye]}),Wt.scrollButtonEnd]})}),go=re(p.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function So(t,e,s){const o=Is(t,s==null?void 0:s.in);return isNaN(e)?Ts(t,NaN):(o.setDate(o.getDate()+e),o)}function Do(){const{state:t}=fs(),[e,s]=h.useState(0),[o,i]=h.useState(()=>t!=null&&t.createdDate?new Date(t.createdDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]),a=bs(),{data:c,isLoading:b}=$s({queryKey:["productionRecord",o],queryFn:()=>Cs(o),enabled:!!o}),u=()=>a("/new-record"),x=()=>{const d=new Date(o),S=new Date(d);S.setDate(d.getDate()-1),i(S.toISOString().split("T")[0])},R=()=>{const d=new Date(o),S=new Date(d);S.setDate(d.getDate()+1),i(S.toISOString().split("T")[0])};return p.jsx(mt,{p:4,position:"relative",children:p.jsxs(mt,{children:[p.jsxs(mt,{display:"flex",justifyContent:"center",alignItems:"center",gap:2,mb:2,children:[p.jsx($t,{size:"small",variant:"outlined",onClick:x,disabled:b,children:"Ayer"}),p.jsx(ws,{type:"date",label:"Seleccionar fecha",value:o,onChange:d=>i(d.target.value),InputLabelProps:{shrink:!0},size:"small"}),p.jsx($t,{size:"small",variant:"outlined",onClick:R,disabled:b||So(new Date(o),1)>new Date,children:"Mañana"})]}),b&&p.jsx(mt,{textAlign:"center",children:p.jsx(ps,{size:50})}),p.jsxs(vo,{value:e,onChange:(d,S)=>s(S),centered:!0,indicatorColor:"primary",textColor:"primary",children:[p.jsx(Qt,{label:"Diario"}),p.jsx(Qt,{label:"Mensual"}),p.jsx(Qt,{label:"Anual"})]}),p.jsxs(mt,{mt:3,children:[e===0&&p.jsxs(p.Fragment,{children:[p.jsx(Bs,{record:c,date:o,isLoading:b}),p.jsx($t,{variant:"contained",color:"primary",onClick:u,sx:{mt:4,display:"block",mx:"auto"},children:"Crear nuevo registro"}),p.jsx(_s,{color:"primary","aria-label":"add",onClick:u,sx:{position:"fixed",bottom:32,right:32,zIndex:1200},children:p.jsx(go,{})})]}),e===1&&p.jsx(Es,{}),e===2&&p.jsx(Rs,{})]})]})})}export{Do as default};
